{"version":3,"file":"component-8d456d6b.js","sources":["../../../../node_modules/nuxt/dist/app/composables/component.js"],"sourcesContent":["import { getCurrentInstance, reactive, toRefs } from \"vue\";\nimport { useHead } from \"@unhead/vue\";\nimport { useNuxtApp } from \"../nuxt.js\";\nimport { useAsyncData } from \"./asyncData.js\";\nimport { useRoute } from \"./router.js\";\nexport const NuxtComponentIndicator = \"__nuxt_component\";\nasync function runLegacyAsyncData(res, fn) {\n  const nuxt = useNuxtApp();\n  const route = useRoute();\n  const vm = getCurrentInstance();\n  const { fetchKey } = vm.proxy.$options;\n  const key = typeof fetchKey === \"function\" ? fetchKey(() => \"\") : fetchKey || route.fullPath;\n  const { data } = await useAsyncData(`options:asyncdata:${key}`, () => fn(nuxt));\n  if (data.value && typeof data.value === \"object\") {\n    Object.assign(await res, toRefs(reactive(data.value)));\n  } else if (process.dev) {\n    console.warn(\"[nuxt] asyncData should return an object\", data);\n  }\n}\nexport const defineNuxtComponent = function defineNuxtComponent2(options) {\n  const { setup } = options;\n  if (!setup && !options.asyncData && !options.head) {\n    return {\n      [NuxtComponentIndicator]: true,\n      ...options\n    };\n  }\n  return {\n    [NuxtComponentIndicator]: true,\n    ...options,\n    setup(props, ctx) {\n      const res = setup?.(props, ctx) || {};\n      const promises = [];\n      if (options.asyncData) {\n        promises.push(runLegacyAsyncData(res, options.asyncData));\n      }\n      if (options.head) {\n        const nuxtApp = useNuxtApp();\n        useHead(typeof options.head === \"function\" ? () => options.head(nuxtApp) : options.head);\n      }\n      return Promise.resolve(res).then(() => Promise.all(promises)).then(() => res).finally(() => {\n        promises.length = 0;\n      });\n    }\n  };\n};\n"],"names":[],"mappings":";;;AAKO,MAAM,yBAAyB;AACtC,eAAe,mBAAmB,KAAK,IAAI;AACzC,QAAM,OAAO;AACb,QAAM,QAAQ;AACd,QAAM,KAAK;AACX,QAAM,EAAE,SAAU,IAAG,GAAG,MAAM;AAC9B,QAAM,MAAM,OAAO,aAAa,aAAa,SAAS,MAAM,EAAE,IAAI,YAAY,MAAM;AACpF,QAAM,EAAE,KAAI,IAAK,MAAM,aAAa,qBAAqB,OAAO,MAAM,GAAG,IAAI,CAAC;AAC9E,MAAI,KAAK,SAAS,OAAO,KAAK,UAAU,UAAU;AAChD,WAAO,OAAO,MAAM,KAAK,OAAO,SAAS,KAAK,KAAK,CAAC,CAAC;AAAA,EAGtD;AACH;AACY,MAAC,sBAAsB,SAAS,qBAAqB,SAAS;AACxE,QAAM,EAAE,MAAO,IAAG;AAClB,MAAI,CAAC,SAAS,CAAC,QAAQ,aAAa,CAAC,QAAQ,MAAM;AACjD,WAAO;AAAA,MACL,CAAC,sBAAsB,GAAG;AAAA,MAC1B,GAAG;AAAA,IACT;AAAA,EACG;AACD,SAAO;AAAA,IACL,CAAC,sBAAsB,GAAG;AAAA,IAC1B,GAAG;AAAA,IACH,MAAM,OAAO,KAAK;AAChB,YAAM,OAAM,+BAAQ,OAAO,SAAQ,CAAA;AACnC,YAAM,WAAW,CAAA;AACjB,UAAI,QAAQ,WAAW;AACrB,iBAAS,KAAK,mBAAmB,KAAK,QAAQ,SAAS,CAAC;AAAA,MACzD;AACD,UAAI,QAAQ,MAAM;AAChB,cAAM,UAAU;AAChB,gBAAQ,OAAO,QAAQ,SAAS,aAAa,MAAM,QAAQ,KAAK,OAAO,IAAI,QAAQ,IAAI;AAAA,MACxF;AACD,aAAO,QAAQ,QAAQ,GAAG,EAAE,KAAK,MAAM,QAAQ,IAAI,QAAQ,CAAC,EAAE,KAAK,MAAM,GAAG,EAAE,QAAQ,MAAM;AAC1F,iBAAS,SAAS;AAAA,MAC1B,CAAO;AAAA,IACF;AAAA,EACL;AACA;","x_google_ignoreList":[0]}